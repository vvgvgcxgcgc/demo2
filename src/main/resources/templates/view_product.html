<!DOCTYPE html>
<html lang="en" xmlns:th = "https://www.thymeleaf.org/">
<head>
    <title>Grid Food Menu</title>
    <!--Google Font-->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!--Stylesheet-->
    <link rel="stylesheet" th:href="@{huu.css}">
    <!--Font Awesome Icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="menu">
<!--    <a href="test.html"><button>Add Product</button></a>-->
    <div class="heading">
      <a href="main/add_product.html" class="link add-product"><span>Add Product</span><i class="fa fa-plus" style="color:#FFFAFA"></i></a>
        <a href="test2.html" class="link select-menu"><span>Select Menu</span><i class="fa fa-bars" style="color: #fffafa"></i></a>
        <h1>Com Van Phong - Anh Bay </h1>
        <h3>&mdash; List Product &mdash; </h3>
    </div>
<!--    <a href="test.html"><button>Add Product</button></a>-->
    <div class="food-items">
        <img src="main/image/burger.jpg">
        <div class="details">
            <div class="details-sub">
                <h5>Smoky Hamburger</h5>
                <h5 class="price"> $8 </h5>
            </div>

            <button>Move From Cart</button>
        </div>
    </div>

    <div class="food-items">
        <img src="main/image/chicken.jpeg">
        <div class="details">
            <div class="details-sub">
                <h5>Honey Garlic Chicken</h5>
                <h5 class="price"> $15 </h5>
            </div>
            <button>Move From Cart</button>
        </div>
    </div>

    <div class="food-items">
        <img src="main/image/soup.jpeg">
        <div class="details">
            <div class="details-sub">
                <h5>Manchow Soup</h5>
                <h5 class="price"> $8 </h5>
            </div>

            <button>Move From Cart</button>
        </div>
    </div>

    <div class="food-items">
        <img src="main/image/Spaghetti.jpeg">
        <div class="details">
            <div class="details-sub">
                <h5>Basil Pesto Spaghetti</h5>
                <h5 class="price"> $12 </h5>
            </div>
            <button>Move From Cart</button>
        </div>
    </div>

    <div class="food-items">
        <img src="main/image/salmon.jpeg">
        <div class="details">
            <div class="details-sub">
                <h5>Roast Salmon</h5>
                <h5 class="price"> $15 </h5>
            </div>
            <button>Move From Cart</button>
        </div>
    </div>

    <div class="food-items">
        <img src="main/image/Sandwich.jpeg">
        <div class="details">
            <div class="details-sub">
                <h5>BBQ Sandwich</h5>
                <h5 class="price"> $10 </h5>
            </div>

            <button>Move From Cart</button>
        </div>
    </div>
    <div class="food-items">
        <img src="https://deliciousvietnam.net/wp-content/uploads/BanhMi_NgonVietnam01-1200x750.jpg">
        <div class="details">
            <div class="details-sub">
                <h5>Bread</h5>
                                <h5 class="price"> $1500 </h5>
            </div>

                        <button>Move From Cart</button>
        </div>
    </div>
</div>
<!--<script src="script.js"></script>-->
</body>
</html>

<!--&lt;!&ndash;<script>&ndash;&gt;-->
<!--&lt;!&ndash;    if (localStorage.getItem('newProduct')) {&ndash;&gt;-->
<!--&lt;!&ndash;        var newProductJSON = localStorage.getItem('newProduct');&ndash;&gt;-->
<!--&lt;!&ndash;        var newProduct = JSON.parse(newProductJSON);&ndash;&gt;-->

<!--&lt;!&ndash;        var foodItems = document.getElementsByClassName('food-items');&ndash;&gt;-->
<!--&lt;!&ndash;        var lastFoodItem = foodItems[foodItems.length - 1];&ndash;&gt;-->

<!--&lt;!&ndash;        var newFoodItem = document.createElement('div');&ndash;&gt;-->
<!--&lt;!&ndash;        newFoodItem.className = 'food-items';&ndash;&gt;-->
<!--&lt;!&ndash;        newFoodItem.innerHTML = `&ndash;&gt;-->
<!--&lt;!&ndash;            <img src="${newProduct.image}">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="details">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="details-sub">&ndash;&gt;-->
<!--&lt;!&ndash;                    <h5>${newProduct.name}</h5>&ndash;&gt;-->
<!--&lt;!&ndash;                    <h5 class="price"> $0 </h5>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <p></p>&ndash;&gt;-->
<!--&lt;!&ndash;                <button>Move From Cart</button>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;        `;&ndash;&gt;-->

<!--&lt;!&ndash;        lastFoodItem.parentNode.insertBefore(newFoodItem, lastFoodItem.nextSibling);&ndash;&gt;-->

<!--&lt;!&ndash;        localStorage.removeItem('newProduct');&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->

<!--<script>-->
<!--    // Lấy danh sách sản phẩm từ localStorage-->
<!--    var productList = JSON.parse(localStorage.getItem('productList')) || [];-->

<!--    // Hiển thị danh sách sản phẩm-->
<!--    productList.forEach(function(product) {-->
<!--        var foodItems = document.getElementsByClassName('food-items');-->
<!--        var lastFoodItem = foodItems[foodItems.length - 1];-->

<!--        var newFoodItem = document.createElement('div');-->
<!--        newFoodItem.className = 'food-items';-->
<!--        newFoodItem.innerHTML =-->
<!--            `-->
<!--            <img src="${product.image}">-->
<!--            <div class="details">-->
<!--                <div class="details-sub">-->
<!--                    <h5>${product.name}</h5>-->
<!--                    <h5 class="price"> $0 </h5>-->
<!--                </div>-->
<!--                <p></p>-->
<!--                <button>Move From Cart</button>-->
<!--            </div>-->
<!--        `;-->

<!--        lastFoodItem.parentNode.insertBefore(newFoodItem, lastFoodItem.nextSibling);-->
<!--    });-->
<!--</script>-->

<!--<div id="product-container"></div>-->
<!--<script>-->
<!--    // Hàm xóa sản phẩm khỏi danh sách và cập nhật giao diện-->
<!--    function removeProduct(index) {-->
<!--        // Lấy danh sách sản phẩm từ localStorage-->
<!--        var productList = JSON.parse(localStorage.getItem('productList')) || [];-->

<!--        // Xóa sản phẩm khỏi danh sách dựa trên chỉ số (index)-->
<!--        productList.splice(index, 1);-->

<!--        // Cập nhật danh sách sản phẩm mới vào localStorage-->
<!--        localStorage.setItem('productList', JSON.stringify(productList));-->

<!--        // Cập nhật giao diện-->
<!--        displayProducts();-->
<!--    }-->

<!--    // Hàm hiển thị danh sách sản phẩm-->
<!--    function displayProducts() {-->
<!--        // Lấy danh sách sản phẩm từ localStorage-->
<!--        var productList = JSON.parse(localStorage.getItem('productList')) || [];-->

<!--        // Lấy phần tử gốc chứa danh sách sản phẩm-->
<!--        var productContainer = document.getElementById('product-container');-->

<!--        // Xóa tất cả các sản phẩm hiện có trong giao diện-->
<!--        productContainer.innerHTML = '';-->

<!--        // Tạo giao diện cho từng sản phẩm-->
<!--        productList.forEach(function(product, index) {-->
<!--            var productItem = document.createElement('div');-->
<!--            productItem.innerHTML = `-->
<!--                <img src="${product.image}">-->
<!--                <div class="details">-->
<!--                    <div class="details-sub">-->
<!--                        <h5>${product.name}</h5>-->
<!--                        <h5 class="price"> $0 </h5>-->
<!--                    </div>-->
<!--                    <p></p>-->
<!--                    <button onclick="removeProduct(${index})">Move From Cart</button>-->
<!--                </div>-->
<!--            `;-->
<!--            productContainer.appendChild(productItem);-->
<!--        });-->
<!--    }-->

<!--    // Gọi hàm hiển thị danh sách sản phẩm khi tải trang-->
<!--    displayProducts();-->
<!--</script>-->

<script>
    // Lấy danh sách sản phẩm từ localStorage
    var productList = JSON.parse(localStorage.getItem('productList')) || [];

    // Hiển thị danh sách sản phẩm
    productList.forEach(function(product, index) {
        var foodItems = document.getElementsByClassName('food-items');
        var lastFoodItem = foodItems[foodItems.length - 1];

        var newFoodItem = document.createElement('div');
        newFoodItem.className = 'food-items';
        newFoodItem.innerHTML =
            `
            <img src="${product.Image}">
            <div class="details">
                <div class="details-sub">
                    <h5>${product.Name}</h5>
                    <h5 class="price"> $${product.Price} </h5>
                </div>
                <p></p>
                <button onclick="removeProduct(${index})">Move From Cart</button> <!-- Thêm sự kiện onclick -->
            </div>
        `;

        lastFoodItem.parentNode.insertBefore(newFoodItem, lastFoodItem.nextSibling);
    });

    // Xóa sản phẩm khỏi danh sách
    function removeProduct(index) {
        productList.splice(index, 1); // Xóa sản phẩm tại vị trí index trong mảng productList
        localStorage.setItem('productList', JSON.stringify(productList)); // Cập nhật lại localStorage
        location.reload(); // Tải lại trang để cập nhật giao diện
    }
</script>